---
request: POST /gmail/v1/users/me/drafts
request_content:
  message:
    raw: Q29udGVudC1EaXNwb3NpdGlvbjogaW5saW5lCkNvbnRlbnQtTGVuZ3RoOiAxNQpDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiaW5hcnkKQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBjaGFyc2V0PSJVVEYtOCIKTUlNRS1WZXJzaW9uOiAxLjAKWC1NYWlsZXI6IE1JTUU6OkxpdGUgMy4wMzcgKEYyLjg2OyBCMy4xNl8wMTsgUTMuMTZfMDEpCkRhdGU6IFN1biwgMTUgRmViIDIwMjYgMTY6NTA6NTMgLTA0MDAKVG86IHRlc3RAZXhhbXBsZS5jb20KU3ViamVjdDogVGVzdCBEcmFmdAoKRHJhZnQgYm9keSB0ZXh0
response:
  code: 200
  content: |
    {
      "id": "r4586340438308124448",
      "message": {
        "id": "19c6312113de6d06",
        "threadId": "19c6312113de6d06",
        "labelIds": [
          "DRAFT"
        ]
      }
    }
  headers:
    - server
    - ESF
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
    - accept-ranges
    - none
    - transfer-encoding
    - chunked
    - x-content-type-options
    - nosniff
    - x-xss-protection
    - 0
    - x-frame-options
    - SAMEORIGIN
    - content-type
    - application/json; charset=UTF-8
    - date
    - 'Sun, 15 Feb 2026 20:50:54 GMT'
  message: OK
source: Test::Google::RestApi::GmailApi1::Draft::create_get_and_delete

---
request: GET /gmail/v1/users/me/drafts/r4586340438308124448
response:
  code: 200
  content: |
    {
      "id": "r4586340438308124448",
      "message": {
        "id": "19c6312113de6d06",
        "threadId": "19c6312113de6d06",
        "labelIds": [
          "DRAFT"
        ],
        "snippet": "Test email snippet",
        "payload": {
          "partId": "",
          "mimeType": "text/plain",
          "filename": "",
          "headers": [
            {
              "name": "Received",
              "value": "from 750099593382 named unknown by gmailapi.google.com with HTTPREST; Sun, 15 Feb 2026 15:50:54 -0500"
            },
            {
              "name": "Content-Disposition",
              "value": "inline"
            },
            {
              "name": "Content-Length",
              "value": "15"
            },
            {
              "name": "Content-Transfer-Encoding",
              "value": "binary"
            },
            {
              "name": "Content-Type",
              "value": "text/plain; charset=\"UTF-8\""
            },
            {
              "name": "MIME-Version",
              "value": "1.0"
            },
            {
              "name": "X-Mailer",
              "value": "MIME::Lite 3.037 (F2.86; B3.16_01; Q3.16_01)"
            },
            {
              "name": "Date",
              "value": "Sun, 15 Feb 2026 15:50:54 -0500"
            },
            {
              "name": "To",
              "value": "test@example.com"
            },
            {
              "name": "Subject",
              "value": "Test Draft"
            },
            {
              "name": "Message-Id",
              "value": "\u003cTEST-MESSAGE-ID@mail.gmail.com\u003e"
            },
            {
              "name": "From",
              "value": "test.user@gmail.com"
            }
          ],
          "body": {
            "size": 15,
            "data": "RHJhZnQgYm9keSB0ZXh0"
          }
        },
        "sizeEstimate": 534,
        "historyId": "21211358",
        "internalDate": "1771188654000"
      }
    }
  headers:
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
    - server
    - ESF
    - x-xss-protection
    - 0
    - x-content-type-options
    - nosniff
    - transfer-encoding
    - chunked
    - accept-ranges
    - none
    - date
    - 'Sun, 15 Feb 2026 20:50:55 GMT'
    - content-type
    - application/json; charset=UTF-8
    - x-frame-options
    - SAMEORIGIN
  message: OK
source: Test::Google::RestApi::GmailApi1::Draft::create_get_and_delete

---
request: DELETE /gmail/v1/users/me/drafts/r4586340438308124448
response:
  code: 204
  content: ''
  headers:
    - x-frame-options
    - SAMEORIGIN
    - content-type
    - application/json; charset=UTF-8
    - date
    - 'Sun, 15 Feb 2026 20:50:57 GMT'
    - server
    - ESF
    - content-length
    - 0
    - vary
    - Origin
    - vary
    - X-Origin
    - vary
    - Referer
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - x-content-type-options
    - nosniff
    - x-xss-protection
    - 0
  message: No Content
source: Test::Google::RestApi::GmailApi1::Draft::create_get_and_delete


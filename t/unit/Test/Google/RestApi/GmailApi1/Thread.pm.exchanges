---
request: GET /gmail/v1/users/me/threads/19c5f286ad60f913
response:
  code: 200
  content: |
    {
      "id": "19c5f286ad60f913",
      "historyId": "21209190",
      "messages": [
        {
          "id": "19c5f286ad60f913",
          "threadId": "19c5f286ad60f913",
          "labelIds": [
            "UNREAD",
            "SENT",
            "INBOX"
          ],
          "snippet": "Test email snippet",
          "payload": {
            "partId": "",
            "mimeType": "text/plain",
            "filename": "",
            "headers": [
              {
                "name": "Received",
                "value": "from 750099593382 named unknown by gmailapi.google.com with HTTPREST; Sat, 14 Feb 2026 18:36:50 -0800"
              },
              {
                "name": "Received",
                "value": "from 750099593382 named unknown by gmailapi.google.com with HTTPREST; Sat, 14 Feb 2026 18:36:50 -0800"
              },
              {
                "name": "Content-Disposition",
                "value": "inline"
              },
              {
                "name": "Content-Length",
                "value": "30"
              },
              {
                "name": "Content-Transfer-Encoding",
                "value": "binary"
              },
              {
                "name": "Content-Type",
                "value": "text/plain; charset=\"UTF-8\""
              },
              {
                "name": "MIME-Version",
                "value": "1.0"
              },
              {
                "name": "X-Mailer",
                "value": "MIME::Lite 3.037 (F2.86; B3.16_01; Q3.16_01)"
              },
              {
                "name": "Date",
                "value": "Sat, 14 Feb 2026 18:36:50 -0800"
              },
              {
                "name": "To",
                "value": "test.user@gmail.com"
              },
              {
                "name": "Subject",
                "value": "Test Thread for Unit Tests"
              },
              {
                "name": "Message-Id",
                "value": "\u003cTEST-MESSAGE-ID@mail.gmail.com\u003e"
              },
              {
                "name": "From",
                "value": "test.user@gmail.com"
              }
            ],
            "body": {
              "size": 30,
              "data": "VGhpcyBpcyBhIHRlc3QgdGhyZWFkIG1lc3NhZ2Uu"
            }
          },
          "sizeEstimate": 692,
          "historyId": "21209190",
          "internalDate": "1771123010000"
        }
      ]
    }
  headers:
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
    - x-content-type-options
    - nosniff
    - content-type
    - application/json; charset=UTF-8
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - accept-ranges
    - none
    - date
    - 'Sun, 15 Feb 2026 02:36:53 GMT'
    - transfer-encoding
    - chunked
    - x-frame-options
    - SAMEORIGIN
    - server
    - ESF
    - x-xss-protection
    - 0
  message: OK
source: Test::Google::RestApi::GmailApi1::Thread::get_and_modify

---
request: POST /gmail/v1/users/me/threads/19c5f286ad60f913/modify
request_content:
  addLabelIds:
    - STARRED
  removeLabelIds:
    - UNREAD
response:
  code: 200
  content: |
    {
      "id": "19c5f286ad60f913",
      "messages": [
        {
          "id": "19c5f286ad60f913",
          "threadId": "19c5f286ad60f913",
          "labelIds": [
            "STARRED",
            "SENT",
            "INBOX"
          ]
        }
      ]
    }
  headers:
    - server
    - ESF
    - x-xss-protection
    - 0
    - date
    - 'Sun, 15 Feb 2026 02:36:55 GMT'
    - transfer-encoding
    - chunked
    - x-frame-options
    - SAMEORIGIN
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - accept-ranges
    - none
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
    - content-type
    - application/json; charset=UTF-8
    - x-content-type-options
    - nosniff
  message: OK
source: Test::Google::RestApi::GmailApi1::Thread::get_and_modify

---
request: POST /gmail/v1/users/me/threads/19c5f286ad60f913/trash
response:
  code: 200
  content: |
    {
      "id": "19c5f286ad60f913",
      "messages": [
        {
          "id": "19c5f286ad60f913",
          "threadId": "19c5f286ad60f913",
          "labelIds": [
            "STARRED",
            "TRASH",
            "SENT"
          ]
        }
      ]
    }
  headers:
    - accept-ranges
    - none
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - x-content-type-options
    - nosniff
    - content-type
    - application/json; charset=UTF-8
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
    - x-xss-protection
    - 0
    - server
    - ESF
    - x-frame-options
    - SAMEORIGIN
    - transfer-encoding
    - chunked
    - date
    - 'Sun, 15 Feb 2026 02:36:57 GMT'
  message: OK
source: Test::Google::RestApi::GmailApi1::Thread::trash_and_untrash

---
request: POST /gmail/v1/users/me/threads/19c5f286ad60f913/untrash
response:
  code: 200
  content: |
    {
      "id": "19c5f286ad60f913",
      "messages": [
        {
          "id": "19c5f286ad60f913",
          "threadId": "19c5f286ad60f913",
          "labelIds": [
            "STARRED",
            "SENT"
          ]
        }
      ]
    }
  headers:
    - server
    - ESF
    - x-xss-protection
    - 0
    - transfer-encoding
    - chunked
    - date
    - 'Sun, 15 Feb 2026 02:36:59 GMT'
    - x-frame-options
    - SAMEORIGIN
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - accept-ranges
    - none
    - x-content-type-options
    - nosniff
    - content-type
    - application/json; charset=UTF-8
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
  message: OK
source: Test::Google::RestApi::GmailApi1::Thread::trash_and_untrash

---
request: POST /gmail/v1/users/me/messages/19c5f286ad60f913/trash
response:
  code: 200
  content: |
    {
      "id": "19c5f286ad60f913",
      "threadId": "19c5f286ad60f913",
      "labelIds": [
        "STARRED",
        "TRASH",
        "SENT"
      ]
    }
  headers:
    - vary
    - X-Origin
    - vary
    - Referer
    - vary
    - 'Origin,Accept-Encoding'
    - x-content-type-options
    - nosniff
    - content-type
    - application/json; charset=UTF-8
    - accept-ranges
    - none
    - alt-svc
    - 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'
    - x-frame-options
    - SAMEORIGIN
    - date
    - 'Sun, 15 Feb 2026 02:37:00 GMT'
    - transfer-encoding
    - chunked
    - x-xss-protection
    - 0
    - server
    - ESF
  message: OK
source: Test::Google::RestApi::GmailApi1::Thread::_teardown_live_thread

